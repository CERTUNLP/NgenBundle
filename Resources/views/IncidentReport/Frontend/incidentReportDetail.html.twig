{# 
 This file is part of the Ngen - CSIRT Incident Report System.
 
 (c) CERT UNLP <support@cert.unlp.edu.ar>
 
 This source file is subject to the GPL v3.0 license that is bundled
 with this source code in the file LICENSE.
#}

{% extends 'CertUnlpNgenBundle::IncidentReport/Frontend/frontend.html.twig' %}
{% import '@CertUnlpNgen/Frontend/detailMacros.html.twig' as print %}
{% block content_header %}
    <h1 class="h3 mb-0 text-gray-800">
        {{ icon(object.icon ~' fa-fw text-'~object.color) }}
        {{ object }}
        {{ print.colorbox('info','lang',object.lang,'#') }}
        {{ print.colorbox('primary','id-card',object.id,'#') }}
        {{ print.statusbox(object) }}

        {{ print.colorbox('primary','edit','Edit',path('cert_unlp_ngen_incident_type_report_edit',{'lang': object.lang,'slug': object.type.slug})) }}
    </h1>
{% endblock %}
{% block content_body %}

    <div class="tab-content pt-2" id="myTabContent">
        <div class="row">
            {% include '@CertUnlpNgen/IncidentReport/Report/lang/info.html.twig' %}
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card shadow mb-4">
                    <div class="card-header">
                        <h6 class="m-0 font-weight-bold text-primary">{{ 'Report content'|trans }}</h6>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered">
                                <tr>
                                    <td class="">
                                        {{ 'Problem'|trans }}
                                    </td>
                                    <td class="">
                                        {{ object.problem|striptags('<div>,<a>,<pre>,<code>,<ul>,<li>,<p>')|raw }}
                                    </td>
                                </tr>
                                <tr>
                                    <td class="">
                                        {{ 'Derivated problem'|trans }}
                                    </td>
                                    <td class="">
                                        {{ object.derivatedProblem|striptags('<div>,<a>,<pre>,<code>,<ul>,<li>,<p>')|raw }}
                                    </td>
                                </tr>

                                <tr>
                                    <td class="">
                                        {{ 'Verification'|trans }}
                                    </td>
                                    <td class="">
                                        {{ object.verification|striptags('<div>,<a>,<pre>,<code>,<ul>,<li>,<p>')|raw }}
                                    </td>
                                </tr>

                                <tr>
                                    <td class="">
                                        {{ 'Recomendations'|trans }}
                                    </td>
                                    <td class="">
                                        {{ object.recomendations|striptags('<div>,<a>,<pre>,<code>,<ul>,<li>,<p>')|raw }}
                                    </td>
                                </tr>

                                <tr>
                                    <td class="">
                                        {{ 'More information'|trans }}
                                    </td>
                                    <td class="">
                                        {{ object.moreInformation|striptags('<div>,<a>,<pre>,<code>,<ul>,<li>,<p>')|raw }}
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    <ul class="nav nav-tabs shadow-" id="myTab" role="tablist">

        <li class="nav-item ">
            <a class="nav-link active" id="new-tab" data-toggle="tab" href="#new" role="tab"
               aria-controls="new"
               aria-selected="true">{{ "New" |trans }}</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="open-tab" data-toggle="tab" href="#open" role="tab"
               aria-controls="open" aria-selected="false">{{ "Open" |trans }}</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="update-tab" data-toggle="tab" href="#update" role="tab"
               aria-controls="update" aria-selected="false">{{ "Update" |trans }}</a>
        </li>

        <li class="nav-item">
            <a class="nav-link" id="close-tab" data-toggle="tab" href="#close" role="tab"
               aria-controls="close" aria-selected="false">{{ "Close" |trans }}</a>
        </li>

        <li class="nav-item">
            <a class="nav-link" id="summary-tab" data-toggle="tab" href="#summary" role="tab"
               aria-controls="summary" aria-selected="false">{{ "Summary" |trans }}</a>
        </li>

    </ul>

    <div class="tab-content pt-2" id="myTabContent">
        <div class="tab-pane fade show active" id="new" role="tabpanel" aria-labelledby="new-tab">
            <div class="row">
                <div class="col-lg-12">
                    <div class="card shadow mb-4">
                        <div class="card-header">
                            <h6 class="m-0 font-weight-bold text-primary">{{ 'Report Preview'|trans }}</h6>
                        </div>
                        <div class="card-body">
                            {% include '@CertUnlpNgen/IncidentReport/Report/lang/newMail.html.twig' with {'report': object } %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="open" role="tabpanel" aria-labelledby="open-tab">
            <div class="row">
                <div class="col-lg-12">
                <div class="card shadow mb-4">
                    <div class="card-header">
                        <h6 class="m-0 font-weight-bold text-primary">{{ 'Report Preview'|trans }}</h6>
                    </div>
                    <div class="card-body">
                        {% include '@CertUnlpNgen/IncidentReport/Report/lang/openMail.html.twig' with {'report': object }  %}
                    </div>
                </div>
            </div>
        </div>
        </div>
        <div class="tab-pane fade" id="update" role="tabpanel" aria-labelledby="update-tab">
            <div class="row">

            <div class="col-lg-12">
                <div class="card shadow mb-4">
                    <div class="card-header">
                        <h6 class="m-0 font-weight-bold text-primary">{{ 'Report Preview'|trans }}</h6>
                    </div>
                    <div class="card-body">
                        {% include '@CertUnlpNgen/IncidentReport/Report/lang/openMail.html.twig' with {'report': object }  %}
                    </div>
                </div>
            </div>
        </div>
        </div>
        <div class="tab-pane fade" id="close" role="tabpanel" aria-labelledby="close-tab">
            <div class="row">

            <div class="col-lg-12">
                <div class="card shadow mb-4">
                    <div class="card-header">
                        <h6 class="m-0 font-weight-bold text-primary">{{ 'Report Preview'|trans }}</h6>
                    </div>
                    <div class="card-body">
                        {% include '@CertUnlpNgen/IncidentReport/Report/lang/openMail.html.twig' with {'report': object }  %}
                    </div>
                </div>
            </div>
        </div>
        </div>
        <div class="tab-pane fade" id="summary" role="tabpanel" aria-labelledby="summary-tab">
            <div class="row">

            <div class="col-lg-12">
                <div class="card shadow mb-4">
                    <div class="card-header">
                        <h6 class="m-0 font-weight-bold text-primary">{{ 'Report Preview'|trans }}</h6>
                    </div>
                    <div class="card-body">
                        {% include '@CertUnlpNgen/IncidentReport/Report/lang/openMail.html.twig' with {'report': object }  %}
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>
    </div>


{% endblock %}