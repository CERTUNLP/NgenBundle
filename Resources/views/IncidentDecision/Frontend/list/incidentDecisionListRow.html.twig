{# 
 This file is part of the Ngen - CSIRT Incident Report System.
 
 (c) CERT UNLP <support@cert.unlp.edu.ar>
 
 This source file is subject to the GPL v3.0 license that is bundled
 with this source code in the file LICENSE.
#}

<tr data-id="{{ IncidentDecision.id }}">
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            {{ IncidentDecision.type  }}
        </div>
    </td>
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            {{ IncidentDecision.feed }}
        </div>
    </td>
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            {{ IncidentDecision.network ?: 'Do nothing' | trans }}
        </div>
    </td>
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            {{ IncidentDecision.state |trans }}
        </div>
    </td>
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            <span class="label tlp-{{ IncidentDecision.tlp | lower }} left"
                  id="tlp">{{ 'TLP'|trans }}:{{ IncidentDecision.tlp|trans }}</span>
        </div>
    </td>
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            {{ IncidentDecision.impact  ?:'Do nothing' | trans }}
        </div>
    </td>
    <td id="decision_label_holder" class="col-md-1">
        <div class="label-holder">
            {{ IncidentDecision.urgency ?:'Do nothing' | trans }}
        </div>
    </td>
    <td id="state_label_holder" class="col-md-1">
        <div class="label-holder">
            {% include "CertUnlpNgenBundle:IncidentDecision:Frontend/list/incidentDecisionLabel.html.twig" with {'incidentDecision': IncidentDecision} %}
        </div>
    </td>
    <td class="col-sm-1">

        <div class="btn-group inline pull-left dropdown action-dropdown">
            <a class="btn btn-sm btn-primary" role="button"
               href="{{ path('cert_unlp_ngen_incident_decision_detail',{'id': IncidentDecision.id}) }}">
                {{ 'Details'|trans }}
            </a>
            <button class="btn btn-sm btn-primary ladda-button dropdown-toggle" data-style="slide-down" type="button"
                    id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true">
                {{ 'Actions'|trans }}
                <span class="caret"></span>
            </button>
            <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
                <li role="presentation">
                    <a role="menuitem" tabindex="-1"
                       href="{{ path('cert_unlp_ngen_incident_decision_edit',{'id': IncidentDecision.id}) }}">{{ icon('edit alert-info') }}
                        <span class="action-text">{{ 'Edit'|trans }}</span></a>
                </li>

                <li role="presentation">
                    <a {% if IncidentDecision.isActive %}style="display: none;"{% endif %} class="state-label"
                       data-action="reactivate" data-state-slug="active" data-state-name="active" role="menuitem"
                       tabindex="-1" href="#">{{ icon('repeat alert-info') }} <span
                                class="action-text">{{ 'Reactivate'|trans }}</span></a>
                </li>

                <li role="presentation">
                    <a {% if not IncidentDecision.isActive %}style="display: none;"{% endif %} class="state-label"
                       data-action="desactivate" data-state-slug="innactive" data-state-name="innactive" role="menuitem"
                       tabindex="-1" href="#">{{ icon('lock alert-success') }} <span
                                class="action-text">{{ 'Desactivate'|trans }}</span></a>
                </li>
            </ul>
        </div>
    </td>
</tr>