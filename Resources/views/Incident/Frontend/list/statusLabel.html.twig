{# 
 This file is part of the Ngen - CSIRT Incident Report System.
 
 (c) CERT UNLP <support@cert.unlp.edu.ar>
 
 This source file is subject to the GPL v3.0 license that is bundled
 with this source code in the file LICENSE.
#}

{% set translatedState = incident.state.name|trans %}

{% if incident.isNew %}
    {% if (incident.responseDelayedMinutes > 0) %}
        <i class="fa fa-phone-slash" style="color:green"
           title="{{ 'Unanswered'|trans }}({{ incident.responseDelayedMinutes }} {{ ' minutes left'|trans }})"></i>
    {% else %}
        <i class="fa fa-phone-slash" style="color:red"
           title="{{ 'Unanswered'|trans }}({{ incident.responseDelayedMinutes * -1 }}{{ ' minutes late'|trans }})"></i>
    {% endif %}
{% else %}
    {% if (incident.responseDelayedMinutes > 0) %}
        <i class="fa fa-phone" style="color:green" title="{{ 'Responsed on time'|trans }}"></i>
    {% else %}
        <i class="fa fa-phone" style="color:lightblue"
           title="{{ 'Answer delayed'|trans }}({{ incident.responseDelayedMinutes * -1 }}{{ ' minutes late'|trans }})"></i>
    {% endif %}
    {% if incident.isClosed %}
        {% if incident.resolutionDelayedMinutes > 0 %}
            <i class="fas fa-check-double" style="color:green" title="{{ 'Solved'|trans }}"></i>
        {% else %}
            <i class="fas fa-check-double" style="color:lightblue"
               title="{{ 'Solved'|trans }}({{ incident.resolutionDelayedMinutes * -1 }}{{ ' minutes late'|trans }})"></i>
        {% endif %}
    {% else %}
        {% if incident.resolutionDelayedMinutes > 0 %}
            <i class="fas fa-hourglass-start" style="color:green"
               title="{{ 'Unsolved'|trans }}({{ incident.resolutionDelayedMinutes }} {{ ' minutes left'|trans }})"></i>
        {% else %}
            <i class="fas fa-hourglass-end" style="color:red"
               title="{{ 'Unsolved'|trans }}({{ incident.resolutionDelayedMinutes * -1 }} {{ ' minutes late'|trans }})"></i>
        {% endif %}
    {% endif %}
{% endif %}



